(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{30:function(e,t){},40:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(32),s=n.n(r),i=(n(40),n(8)),u=n(35),j=n(1),l=function(e){var t=e.tweet;return Object(j.jsxs)("div",{className:"tweetPDiv",children:[Object(j.jsxs)("div",{className:"tweets",children:[Object(j.jsx)("div",{className:"tweetUserName",children:t.userName}),Object(j.jsx)("div",{className:"tweetDate",children:t.date})]}),Object(j.jsx)("div",{className:"tweetContent",children:t.content})]})},o=function(e){var t=e.tweets;return Object(j.jsx)("div",{children:t.map((function(e){return Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsx)(l,{tweet:e})},e.id)}))})},b=n(9),d=n.n(b),m=n(13),h=n(20),O=n.n(h),f="https://micro-blogging-dot-full-stack-course-services.ew.r.appspot.com/tweet";function v(){return(v=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(f);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return p.apply(this,arguments)}function p(){return(p=Object(m.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(f,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(30);var N=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),u=Object(i.a)(s,2),l=u[0],o=u[1],b=c.length>140,h=function(){var t=Object(m.a)(d.a.mark((function t(n){var a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!b){t.next=3;break}return t.abrupt("return");case 3:return a={content:c,userName:e.userName,date:(new Date).toISOString()},o(!0),t.prev=5,t.next=8,x(a);case 8:s=t.sent,e.submitTweet(s),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),alert("Server error when adding a tweet");case 15:o(!1),r("");case 17:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("form",{className:"form",onSubmit:h,children:[Object(j.jsx)("textarea",{className:"tweetArea",value:c,placeholder:"What you have in mind...",onChange:function(e){return r(e.target.value)}}),Object(j.jsx)("div",{className:"btnDiv",children:Object(j.jsxs)("div",{children:[l&&Object(j.jsx)("div",{class:"spinner-border loadPos"}),Object(j.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:b,children:"Tweet"})]})}),b&&Object(j.jsx)("div",{style:{bottom:20},className:"textLimitReached",children:"The tweet can't contain more then 140 chars."})]})},w=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),l=Object(i.a)(s,2),b=l[0],d=l[1];Object(a.useEffect)((function(){d(!0);var e=function(){(function(){return v.apply(this,arguments)})().then((function(e){r(e.tweets),d(!1)}))};e();var t=setInterval((function(){e()}),8e3);return function(){clearInterval(t)}}),[]);return Object(j.jsxs)("div",{className:"homeDiv",children:[Object(j.jsx)("div",{className:"TweetInputDiv",children:Object(j.jsx)(N,{userName:e.userName,submitTweet:function(e){r((function(t){return[e].concat(Object(u.a)(t))}))}})}),b&&Object(j.jsx)("div",{class:"spinner-border "}),Object(j.jsx)(o,{tweets:c})]})},g=n(14),S=n(2),y=function(){return Object(j.jsx)("nav",{className:"navBar",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{className:"navLink",children:Object(j.jsx)(g.b,{to:"/",className:"navLink",children:"Home"})}),Object(j.jsx)("li",{className:"navLink",children:Object(j.jsx)(g.b,{to:"/Profile",className:"navLink",children:"Profile"})})]})})},k=function(e){var t=e.onUserNameChange,n=Object(a.useState)(e.userName),c=Object(i.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){s(e.userName)}),[e.userName]);return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),localStorage.setItem("userName",r),t(r)},className:"profileForm",children:[Object(j.jsx)("h1",{className:"profile",children:"Profile"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"userName",children:"UserName"}),Object(j.jsx)("input",{onChange:function(e){return s(e.target.value)},value:r,type:"text",className:"userNameTextArea"})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btnUserName",children:"Save"})})]})};var D=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("userName");c(e)}),[]),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)(g.a,{children:[Object(j.jsx)(y,{}),Object(j.jsxs)(S.c,{children:[Object(j.jsx)(S.a,{exact:!0,path:"/",children:Object(j.jsx)(w,{userName:n})}),Object(j.jsx)(S.a,{path:"/profile",children:Object(j.jsx)(k,{userName:n,onUserNameChange:function(e){return c(e)}})})]})]})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(D,{})}),document.getElementById("root")),C()}},[[66,1,2]]]);
//# sourceMappingURL=main.86f144e9.chunk.js.map